plugins {
    id 'application'
}

application {
    mainClass = 'app.adbgui.App'
}

tasks.register("packageApp", Exec) {
    dependsOn("build")

    doFirst {
        println("Packaging using jpackage")
    }

    commandLine(
            "jpackage",
            "--name", "ADB-GUI",
            "--input", "build/libs",
            "--main-jar", "adbgui.jar",
            "--type", "app-image",
            "--icon", "src/main/resources/icons/app-icon.png"
    )
}


